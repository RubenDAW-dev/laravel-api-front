<section class="max-w-7xl mx-auto px-6 py-12">
  <h2 class="text-4xl font-extrabold text-gray-800 mb-8 text-center">Peticiones</h2>

  @if (cargando()) {
  <div class="text-center text-gray-500">Cargando...</div>
  } @else {

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">

    @for (p of peticiones(); track p.id) {

    <article
      class="bg-white rounded-lg shadow p-6 flex flex-col items-center text-center transition-transform transform hover:-translate-y-1 hover:shadow-lg">

      <!-- Imagen de la petición con fallback -->
      <img [src]="getImg(p)" alt="{{ p.titulo }}"
        class="w-40 h-40 object-cover rounded-full mb-4 border border-gray-200 shadow-sm" />


      <!-- Título -->
      <h3 class="text-lg font-bold text-gray-800 mb-2">
        <a [routerLink]="['/peticiones', p.id]" class="hover:text-blue-600 hover:underline">
          {{ p.titulo }}
        </a>
      </h3>

      <!-- Descripción -->
      <p class="text-gray-600 text-sm mb-4 line-clamp-3">
        {{ p.descripcion }}
      </p>

      <!-- Acciones -->
      <div class="flex gap-4">
        <a [routerLink]="['/peticiones', p.id]"
          class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-transform transform hover:-translate-y-0.5">
          Ver
        </a>
        <button (click)="eliminar(p.id)"
          class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded transition-transform transform hover:-translate-y-0.5">
          Borrar
        </button>
      </div>

    </article>

    }

  </div>

  }
</section>